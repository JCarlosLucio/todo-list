(()=>{var t={484:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,o=36e5,n="millisecond",s="second",i="minute",d="hour",r="day",a="week",l="month",c="quarter",u="year",m="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,o){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(o)+t},y={s:g,z:function(t){var e=-t.utcOffset(),o=Math.abs(e),n=Math.floor(o/60),s=o%60;return(e<=0?"+":"-")+g(n,2,"0")+":"+g(s,2,"0")},m:function t(e,o){if(e.date()<o.date())return-t(o,e);var n=12*(o.year()-e.year())+(o.month()-e.month()),s=e.clone().add(n,l),i=o-s<0,d=e.clone().add(n+(i?-1:1),l);return+(-(n+(o-s)/(i?s-d:d-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:u,w:a,d:r,D:m,h:d,m:i,s,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},T="en",v={};v[T]=_;var $=function(t){return t instanceof D},S=function t(e,o,n){var s;if(!e)return T;if("string"==typeof e){var i=e.toLowerCase();v[i]&&(s=i),o&&(v[i]=o,s=i);var d=e.split("-");if(!s&&d.length>1)return t(d[0])}else{var r=e.name;v[r]=e,s=r}return!n&&s&&(T=s),s||!n&&T},L=function(t,e){if($(t))return t.clone();var o="object"==typeof e?e:{};return o.date=t,o.args=arguments,new D(o)},I=y;I.l=S,I.i=$,I.w=function(t,e){return L(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var D=function(){function _(t){this.$L=S(t.locale,null,!0),this.parse(t)}var g=_.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,o=t.utc;if(null===e)return new Date(NaN);if(I.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(f);if(n){var s=n[2]-1||0,i=(n[7]||"0").substring(0,3);return o?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return I},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(t,e){var o=L(t);return this.startOf(e)<=o&&o<=this.endOf(e)},g.isAfter=function(t,e){return L(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<L(t)},g.$g=function(t,e,o){return I.u(t)?this[e]:this.set(o,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var o=this,n=!!I.u(e)||e,c=I.p(t),h=function(t,e){var s=I.w(o.$u?Date.UTC(o.$y,e,t):new Date(o.$y,e,t),o);return n?s:s.endOf(r)},f=function(t,e){return I.w(o.toDate()[t].apply(o.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),o)},p=this.$W,_=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case u:return n?h(1,0):h(31,11);case l:return n?h(1,_):h(0,_+1);case a:var T=this.$locale().weekStart||0,v=(p<T?p+7:p)-T;return h(n?g-v:g+(6-v),_);case r:case m:return f(y+"Hours",0);case d:return f(y+"Minutes",1);case i:return f(y+"Seconds",2);case s:return f(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var o,a=I.p(t),c="set"+(this.$u?"UTC":""),h=(o={},o[r]=c+"Date",o[m]=c+"Date",o[l]=c+"Month",o[u]=c+"FullYear",o[d]=c+"Hours",o[i]=c+"Minutes",o[s]=c+"Seconds",o[n]=c+"Milliseconds",o)[a],f=a===r?this.$D+(e-this.$W):e;if(a===l||a===u){var p=this.clone().set(m,1);p.$d[h](f),p.init(),this.$d=p.set(m,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[I.p(t)]()},g.add=function(n,c){var m,h=this;n=Number(n);var f=I.p(c),p=function(t){var e=L(h);return I.w(e.date(e.date()+Math.round(t*n)),h)};if(f===l)return this.set(l,this.$M+n);if(f===u)return this.set(u,this.$y+n);if(f===r)return p(1);if(f===a)return p(7);var _=(m={},m[i]=e,m[d]=o,m[s]=t,m)[f]||1,g=this.$d.getTime()+n*_;return I.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,o=this.$locale();if(!this.isValid())return o.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",s=I.z(this),i=this.$H,d=this.$m,r=this.$M,a=o.weekdays,l=o.months,c=function(t,o,s,i){return t&&(t[o]||t(e,n))||s[o].slice(0,i)},u=function(t){return I.s(i%12||12,t,"0")},m=o.meridiem||function(t,e,o){var n=t<12?"AM":"PM";return o?n.toLowerCase():n},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:I.s(r+1,2,"0"),MMM:c(o.monthsShort,r,l,3),MMMM:c(l,r),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:c(o.weekdaysMin,this.$W,a,2),ddd:c(o.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(i),HH:I.s(i,2,"0"),h:u(1),hh:u(2),a:m(i,d,!0),A:m(i,d,!1),m:String(d),mm:I.s(d,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:s};return n.replace(p,(function(t,e){return e||f[t]||s.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,m,h){var f,p=I.p(m),_=L(n),g=(_.utcOffset()-this.utcOffset())*e,y=this-_,T=I.m(this,_);return T=(f={},f[u]=T/12,f[l]=T,f[c]=T/3,f[a]=(y-g)/6048e5,f[r]=(y-g)/864e5,f[d]=y/o,f[i]=y/e,f[s]=y/t,f)[p]||y,h?T:I.a(T)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return v[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var o=this.clone(),n=S(t,e,!0);return n&&(o.$L=n),o},g.clone=function(){return I.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},_}(),M=D.prototype;return L.prototype=M,[["$ms",n],["$s",s],["$m",i],["$H",d],["$W",r],["$M",l],["$y",u],["$D",m]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),L.extend=function(t,e){return t.$i||(t(e,D,L),t.$i=!0),L},L.locale=S,L.isDayjs=$,L.unix=function(t){return L(1e3*t)},L.en=v[T],L.Ls=v,L.p={},L}()},110:function(t){t.exports=function(){"use strict";return function(t,e,o){t=t||{};var n=e.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(t,e,o,s){return n.fromToBase(t,e,o,s)}o.en.relativeTime=s,n.fromToBase=function(e,n,i,d,r){for(var a,l,c,u=i.$locale().relativeTime||s,m=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=m.length,f=0;f<h;f+=1){var p=m[f];p.d&&(a=d?o(e).diff(i,p.d,!0):i.diff(e,p.d,!0));var _=(t.rounding||Math.round)(Math.abs(a));if(c=a>0,_<=p.r||!p.r){_<=1&&f>0&&(p=m[f-1]);var g=u[p.l];r&&(_=r(""+_)),l="string"==typeof g?g.replace("%d",_):g(_,n,p.l,c);break}}if(n)return l;var y=c?u.future:u.past;return"function"==typeof y?y(l):y.replace("%s",l)},n.to=function(t,e){return i(t,e,this,!0)},n.from=function(t,e){return i(t,e,this)};var d=function(t){return t.$u?o.utc():o()};n.toNow=function(t){return this.to(d(this),t)},n.fromNow=function(t){return this.from(d(this),t)}}}()}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=(()=>{class t{constructor(t,e){this.id=t,this.title=e,this.todos=[]}}class e{constructor(t,e,o,n,s){this.id=t,this.title=e,this.date=o,this.priority=n,this.description=s,this.done=!1}}const o={allLists:[]},n=()=>{localStorage.setItem("allLists",JSON.stringify(o.allLists))},s=(t,e)=>t.map((t=>t.id)).indexOf(e),i=t=>{const e=s(o.allLists,t);return o.allLists[e]},d=(t,e)=>{const o=i(t),n=s(o.todos,e);return o.todos[n]};return{addListItem:e=>{let s=0;o.allLists.length>0&&(s=o.allLists[o.allLists.length-1].id+1);const i=new t(s,e);return o.allLists.push(i),n(),i},deleteListItem:t=>{const e=s(o.allLists,t);-1!==e&&o.allLists.splice(e,1),n();let i=e;return 0===o.allLists.length?-1:(i===o.allLists.length&&i--,o.allLists[i])},getList:i,getTodo:d,addTodoItem:t=>{const o=parseInt(t.listID[t.listID.length-1]),s=i(o);let d=0;s.todos.length>0&&(d=s.todos[s.todos.length-1].id+1);const r=new e(d,t.title,t.date,t.prio,t.desc);return s.todos.push(r),n(),r},deleteTodoItem:(t,e)=>{const o=i(t),d=s(o.todos,e);-1!==d&&o.todos.splice(d,1),n()},editTodoItem:(t,e,o)=>{const s=d(t,e);s.title=o.title,s.date=o.date,s.priority=o.prio,s.description=o.desc,n()},toggleDone:(t,e,o)=>{const d=i(t),r=s(d.todos,e);d.todos[r].done=o,n()},getDefaultList:()=>{const n=new Date,s=n.getFullYear(),i=n.getMonth()+1,d=n.getDate(),r=new e(0,"Click Here to check details",`${s}-${i>9?i:"0"+i}-${d>9?d:"0"+d}`,"high","Edit your todos by clicking on the pencil icon."),a=new t(0,"Get Started");return a.todos.push(r),o.allLists.push(a),a},getStorage:()=>(localStorage.getItem("allLists")||n(),o.allLists=JSON.parse(localStorage.getItem("allLists")),o.allLists)}})();var e=o(484),n=o.n(e),s=o(110),i=o.n(s);n().extend(i());((t,e)=>{const o=e.getDOMStrings(),n=()=>{const o=e.getListInput();if(o){const n=t.addListItem(o);e.addListItem(n),e.clearListField(),e.setupTodos(n)}},s=o=>{const n=o.target.parentNode.parentNode.id;if(n){const[o]=f([n]),s=t.deleteListItem(o);e.deleteItem(n),-1!==s?e.setupTodos(s):h()}},i=o=>{const n=o.target.parentNode.id;if(n){const[o]=f([n]),s=t.getList(o);e.setupTodos(s)}},d=()=>{const o=e.getTodoInput();if(o.listID&&o.title){const n=t.addTodoItem(o);e.addTodoItem(n),e.clearTodoFields()}},r=n=>{const s=n.target.parentNode,i=n.target.parentNode.parentNode.parentNode.id,d=n.target.parentNode.parentNode.parentNode.parentNode.id;if(d&&i&&s.className===o.todoItemDeleteBtnClass){const[o,n]=f([d,i]);t.deleteTodoItem(o,n),e.deleteItem(i)}},a=n=>{if(n.target.parentNode.className===o.todoItemEditBtnClass){const s=n.target.parentNode.parentNode.parentNode.id,i=n.target.parentNode.parentNode.parentNode.parentNode.id;if(i&&s){const[n,d]=f([i,s]),r=t.getTodo(n,d);e.setEditInputs(n,d,r);const a=document.querySelector(o.containerEdit);e.toggleHide(a)}}},l=n=>{const s=n.target.parentNode.parentNode.id;if(s){const[n,i]=s.split("--"),[d,r]=f([n,i]),a=e.getEditInput();t.editTodoItem(d,r,a);const l=t.getList(d);e.setupTodos(l);const c=document.querySelector(o.containerEdit);e.toggleHide(c)}},c=()=>{const t=document.querySelector(o.containerEdit);e.toggleHide(t)},u=o=>{const n=o.target.checked,s=o.target.parentNode.parentNode.id,i=o.target.parentNode.parentNode.parentNode.id;if(!0===n||!1===n){const[o,d]=f([i,s]);t.toggleDone(o,d,n);const r=t.getList(o);e.setupTodos(r)}},m=t=>{const n=t.target.parentNode.nextSibling;t.target.className===o.todoItemTitleClass&&e.toggleHide(n)},h=()=>{const o=t.getDefaultList();e.addListItem(o),e.setupTodos(o)},f=t=>{const e=[];for(const o of t)e.push(parseInt(o[o.length-1]));return e};return{init:()=>{console.log("Application has started"),document.querySelector(o.addListBtn).addEventListener("click",n),document.querySelector(o.list).addEventListener("click",s),document.querySelector(o.list).addEventListener("click",i),document.querySelector(o.addTodoBtn).addEventListener("click",d),document.querySelector(o.todo).addEventListener("click",r),document.querySelector(o.todo).addEventListener("click",m),document.querySelector(o.todo).addEventListener("click",u),document.querySelector(o.todo).addEventListener("click",a),document.querySelector(o.editTodoBtn).addEventListener("click",l),document.querySelector(o.editCancelBtn).addEventListener("click",c);const f=t.getStorage();if(0===f.length)h();else{e.setupLists(f);const t=f[0];e.setupTodos(t)}}}})(t,(()=>{const t={addListBtn:".add__list__btn",addListTitle:".add__list__title",list:".list",containerTodoTitle:".container__todo__title",listItem:".list__item",todo:".todo",addTodoBtn:".add__todo__btn",addTodoTitle:".add__todo__title",addTodoDate:".add__todo__date",addTodoPrio:".add__todo__prio",addTodoDesc:".add__todo__desc",containerEdit:".container__edit",editTodo:".edit__todo",editTodoTitle:".edit__todo__title",editTodoBtn:".edit__todo__btn",editCancelBtn:".edit__cancel__btn",editTodoDate:".edit__todo__date",editTodoPrio:".edit__todo__prio",editTodoDesc:".edit__todo__desc",containerEditTitle:".container__edit__title",listItemClass:"list__item",listItemTitleClass:"list__item__title",listItemDeleteBtnClass:"list__item__delete__btn",todoItemClass:"todo__item",todoItemShortClass:"todo__item__short",todoItemCheckbox:"todo__item__checkbox",todoItemTitleClass:"todo__item__title",todoItemDeleteBtnClass:"todo__item__delete__btn",todoItemExtraClass:"todo__item__extra",todoItemEditBtnClass:"todo__item__edit__btn",todoItemDateClass:"todo__item__date",todoItemDescClass:"todo__item__desc",hideClass:"hide",doneClass:"done",editTodoBtnClass:"edit__todo__btn"},e=function(e){const o=document.createElement("div"),n=document.createElement("div"),s=document.createElement("i"),i=document.createElement("button");o.classList.add(t.listItemClass),o.setAttribute("id",`list-${e.id}`),n.classList.add(t.listItemTitleClass),n.innerText=e.title,s.classList.add("fas","fa-trash-alt"),i.classList.add(t.listItemDeleteBtnClass),i.append(s),o.append(n,i);document.querySelector(t.list).append(o)},o=function(e){const o=document.createElement("div"),s=document.createElement("div"),i=document.createElement("input"),d=document.createElement("div"),r=document.createElement("button"),a=document.createElement("i"),l=document.createElement("div"),c=document.createElement("button"),u=document.createElement("i"),m=document.createElement("div"),h=document.createElement("div");o.classList.add(t.todoItemClass),o.setAttribute("id",`todo-${e.id}`),o.classList.add(e.done?t.doneClass:e.priority),s.classList.add(t.todoItemShortClass),i.type="checkbox",i.classList.add(t.todoItemCheckbox),i.checked=e.done,d.classList.add(t.todoItemTitleClass),d.innerText=e.title,a.classList.add("fas","fa-trash-alt"),r.classList.add(t.todoItemDeleteBtnClass),r.append(a),s.append(i,d,r),l.classList.add(t.todoItemExtraClass,t.hideClass),c.classList.add(t.todoItemEditBtnClass),u.classList.add("fas","fa-edit"),m.classList.add(t.todoItemDateClass);const f=n()(e.date).fromNow();m.innerText="Invalid date"!==f?`Due ${f}`:"",h.classList.add(t.todoItemDescClass),h.innerText=e.description,c.append(u),l.append(c,m,h),o.append(s,l);document.querySelector(t.todo).append(o)};return{getDOMStrings:()=>t,getListInput:()=>document.querySelector(t.addListTitle).value,addListItem:e,deleteItem:t=>{const e=document.getElementById(t);e.parentNode.removeChild(e)},clearListField:()=>{const e=document.querySelector(t.addListTitle);e.value="",e.focus()},setupTodos:e=>{document.querySelector(t.containerTodoTitle).innerText=e.title;document.querySelectorAll(t.listItem).forEach((t=>{t.classList.remove("selected")}));document.getElementById(`list-${e.id}`).classList.add("selected");const n=document.querySelector(t.todo);n.id=`todo-list-${e.id}`,n.textContent="";for(const t of e.todos)o(t)},setEditInputs:(e,o,n)=>{const s=document.querySelector(t.editTodo),i=document.querySelector(t.containerEditTitle),d=document.querySelector(t.editTodoTitle),r=document.querySelector(t.editTodoDate),a=document.querySelector(t.editTodoPrio),l=document.querySelector(t.editTodoDesc);s.setAttribute("id",`list-${e}--todo-${o}`),i.innerText=`Edit "${n.title}"`,d.value=n.title,r.value=n.date,a.value=n.priority,l.value=n.description},getTodoInput:()=>({listID:document.querySelector(t.todo).id,title:document.querySelector(t.addTodoTitle).value,date:document.querySelector(t.addTodoDate).value,prio:document.querySelector(t.addTodoPrio).value||"low",desc:document.querySelector(t.addTodoDesc).value}),addTodoItem:o,clearTodoFields:()=>{const e=document.querySelector(t.addTodoTitle),o=document.querySelector(t.addTodoDate),n=document.querySelector(t.addTodoPrio),s=document.querySelector(t.addTodoDesc);e.value="",o.value="",n.value="",s.value="",e.focus()},getEditInput:()=>({title:document.querySelector(t.editTodoTitle).value,date:document.querySelector(t.editTodoDate).value,prio:document.querySelector(t.editTodoPrio).value||"low",desc:document.querySelector(t.editTodoDesc).value}),toggleHide:e=>{e.classList.toggle(t.hideClass)},setupLists:t=>{for(const o of t)e(o)}}})()).init()})()})();